<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!--edge浏览器H5兼容设置-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!--360浏览器H5兼容设置-->
    <meta name="renderer" content="webkit" />
    <title>电脑商城</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" type="text/css" href="../bootstrap3/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../bootstrap3/css/bootstrap-theme.css">
    <script src="../bootstrap3/jquery-3.6.0.min.js"></script>
    <script src="../bootstrap3/js/bootstrap.js"></script>
    <script src="../bootstrap3/js/npm.js"></script>
<!--    自己写的css-->
    <link rel="stylesheet" type="text/css" href="../css/reg.css">

    <title>注册界面</title>
</head>
<body>
<!--    第一个div-->
<div class="container-fluid">
    <div class="row" style="height: 77px;">
        <div class="col-md-3" style="top: 20px;padding-left: 55px;">
            <img src="../images/index/stumalllogo.png">
        </div>
        <div class="col-md-2 col-md-offset-7" style="top: 20px;padding-left: 80px">
            <p><font size="1px">欢迎访问</font><strong>电脑商城</strong></p>
        </div>
    </div>
</div>
<!--    第二个-->
<div id="tupian" style="height: 560px;padding-top: 130px;padding-left: 943px">
    <!--注册信息填写-->
    <div class="container thumbnail" style="height: 280px;width: 500px;background: white">
        <div class="row"><div class="col-md-3">新用户注册</div></div>
        <form id="form_reg">
            <div class="row">
                <div class="col-md-2 col-md-offset-1 text-center" style="margin-top:20px"><strong>名字:</strong></div>
                <div class="col-md-8" style="margin-top: 14px"><input id="username" name="username" type="text" placeholder="  请输入用户名" style="width: 310px"></div>
            </div>
            <div class="row">
                <div class="col-md-2 col-md-offset-1 text-center" style="margin-top:20px"><strong>密码:</strong></div>
                <div class="col-md-8" style="margin-top: 14px"><input id="password" name="password" type="password" placeholder="  请输入密码" style="width: 310px"></div>
            </div>
            <div class="row">
                <div class="col-md-3  text-center" style="margin-top:20px;padding-left: 30px"><strong>确认密码:</strong></div>
                <div class="col-md-8" style="margin-top: 14px"><input id="repassword" type="password" placeholder="  请再次输入密码" style="width: 310px"></div>
            </div>
            <div class="row">
                <div class="col-md-offset-3 col-md-4" style="margin-top: 15px"><button type="button" id="register">立即注册</button></div>
                <div class="col-md-offset-1 col-md-4" style="margin-top: 15px"><font size="1px">已经有账号？</font><a>登录</a></div>
            </div>
        </form>

    </div>
</div>
<!--    第三个-->
<div class="panel-footer" style="height: 160px; padding-top: 50px">
    <div class="container text-center" style="height: 60px">
        <div class="row">
            <div class="col-md-2 col-md-offset-2">
                <span class="bi-hand-thumbs-up-fill" style="font-size: 25px"></span>
                <p>品质保证</p>
            </div>
            <div class="col-md-2">
                <span class="bi-person-video" style="font-size: 25px"></span>
                <p>私人定制</p>
            </div>
            <div class="col-md-2" >
                <span class="bi-mortarboard-fill" style="font-size: 25px"></span>
                <p>学生特供</p>
            </div>
            <div class="col-md-2" >
                <span class="bi-currency-bitcoin" style="font-size: 25px"></span>
                <p>专属特权</p>
            </div>
        </div>
    </div>
</div>
<!--    第四个-->
<div style="height: 190px;padding-top: 30px" >
    <div class="container text-center" style=" height: 150px">
        <div class="row">
            <div class="col-md-3 col-md-offset-1 text-left" style="height: 100px">
                <img src="../images/index/stumalllogo.png">
                <img src="../images/index/footerFont.png">
            </div>
            <div class="col-md-4" style="height: 100px">
                <div class="row">
                    <div class="col-md-4" style="height: 100px">
                        <a href="#"><p style="font-size: small">买家帮助</p></a>
                        <p style="font-size: small;line-height: 10px; margin-top: 22px">新手指南</p>
                        <p style="font-size: small;line-height: 10px">服务保障</p>
                        <p style="font-size: small;line-height: 10px">常见问题</p>
                    </div>
                    <div class="col-md-4" style="height: 100px">
                        <p style="font-size: small">商家帮助</p>
                        <p style="font-size: small;line-height: 10px; margin-top: 22px">商家入驻</p>
                        <p style="font-size: small;line-height: 10px">商家后台</p>

                    </div>
                    <div class="col-md-4" style="height: 100px">
                        <p style="font-size: small">关于我们</p>
                        <p style="font-size: small;line-height: 10px; margin-top: 22px">关于圆心</p>
                        <p style="font-size: small;line-height: 10px">联系我们</p>
                        <p style="font-size: small;line-height: 10px">常见问题</p>
                    </div>
                </div>

            </div>
            <div class="col-md-4" style="height: 100px">
                <div class="row">
                    <div class="col-md-8">
                        <p>电脑商城客户端</p>
                        <img src="../images/index/ios.png">
                        <img src="../images/index/android.png" style="margin-top: 2px">
                    </div>
                </div>
            </div>
        </div>
        <div class="row" style="padding-top: 20px">
            <div class="col-md-12 text-center">
                <p>
                    Copyright © 2022 dnsc.cn All Rights Reserved 京ICP备08963888号-45
                </p>
            </div>
        </div>

    </div>
</div>

<script>
    //1、监听注册按钮是否被点击
    //2、发送ajax()的异步请求完成用户的注册功能
    $('#register').click(function () {

        let pwd=document.getElementById('password').value
        let rpwd=document.getElementById('repassword').value
        let username=document.getElementById('username').value

        if(username==null || username==""){
            alert("请完整输入信息")
        }
        if(pwd==null || pwd==""){
            alert("请完整输入信息")
        }
        if(pwd==rpwd){
            $.ajax({
                url:"/users/reg",
                type:"POST",
                data:$("#form_reg").serialize(),
                dataType:"JSON",
                success:function (json){
                    if(json.state==200){
                        alert("注册成功")
                        location.href="login.html";
                    }else {
                        alert("注册失败")
                    }
                },
                error:function (xhr) {
                    alert("注册时产生未知错误！"+xhr.status)
                }
            });
        }else {
            alert("密码不同")
        }

    });

</script>

</body>
</html>